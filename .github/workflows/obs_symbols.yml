name: 'OBS Symbols'

on:
  workflow_dispatch:

env:
  AWS_SYMB_ACCESS_KEY_ID: ${{ secrets.AWS_SYMB_ACCESS_KEY_ID }}
  AWS_SYMB_SECRET_ACCESS_KEY: ${{ secrets.AWS_SYMB_SECRET_ACCESS_KEY }}
    
jobs:
  win64:
    name: 'Windows 64-bit'
    runs-on: windows-latest
    env:
      OS_TAG: "win64"
      ReleaseName: release
      ReleaseConfig: RelWithDebInfo
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2
         
      - name: Run obs symbol script
        run: ("https://github.com/obsproject/obs-studio/releases/download/30.0.0-rc2/OBS-Studio-30.0-rc2.zip","https://github.com/obsproject/obs-studio/releases/download/30.0.0-rc1/OBS-Studio-30.0-rc1.zip","https://github.com/obsproject/obs-studio/releases/download/30.0.0-beta3/OBS-Studio-30.0-beta3.zip","https://github.com/obsproject/obs-studio/releases/download/30.0.0-beta2/OBS-Studio-30.0-beta2.zip","https://github.com/obsproject/obs-studio/releases/download/30.0.0-beta1/OBS-Studio-30.0-beta1.zip","https://github.com/obsproject/obs-studio/releases/download/29.1.3/OBS-Studio-29.1.3.zip","https://github.com/obsproject/obs-studio/releases/download/29.1.2/OBS-Studio-29.1.2.zip","https://github.com/obsproject/obs-studio/releases/download/29.1.1/OBS-Studio-29.1.1.zip","https://github.com/obsproject/obs-studio/releases/download/29.1.0/OBS-Studio-29.1-Full.zip","https://github.com/obsproject/obs-studio/releases/download/29.1.0-rc1/OBS-Studio-29.1-rc1.zip","https://github.com/obsproject/obs-studio/releases/download/29.1.0-beta4/OBS-Studio-29.1-beta4.zip","https://github.com/obsproject/obs-studio/releases/download/29.1.0-beta3/OBS-Studio-29.1-beta3.zip","https://github.com/obsproject/obs-studio/releases/download/29.1.0-beta2/OBS-Studio-29.1-beta2.zip","https://github.com/obsproject/obs-studio/releases/download/29.1.0-beta1/OBS-Studio-29.1-beta1.zip","https://github.com/obsproject/obs-studio/releases/download/29.0.2/OBS-Studio-29.0.2-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/29.0.1/OBS-Studio-29.0.1.zip","https://github.com/obsproject/obs-studio/releases/download/29.0.0/OBS-Studio-29.0-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/29.0.0-beta3/OBS-Studio-29.0-beta3-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/29.0.0-beta2/OBS-Studio-29.0-beta2-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/29.0.0-beta1/OBS-Studio-29.0-beta1-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/28.1.2/OBS-Studio-28.1.2-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/28.1.1/OBS-Studio-28.1.1-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/28.1.0/OBS-Studio-28.1-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/28.1.0-rc1/OBS-Studio-28.1-rc1-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/28.1.0-beta1/OBS-Studio-28.1-beta1-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/28.0.3/OBS-Studio-28.0.3-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/28.0.2/OBS-Studio-28.0.2-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/28.0.1/OBS-Studio-28.0.1-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/28.0.0/OBS-Studio-28.0-Full-x64.zip","https://github.com/obsproject/obs-studio/releases/download/28.0.0-rc2/OBS-Studio-28.0-rc2-Full-x64.zip") | ForEach-Object { powershell -File ./ci/obs_symbols.ps1 ${{ github.workspace }} $_ }
